<% include ./partials/header.ejs %>

<form hidden id="fileform" method="post" enctype="multipart/form-data" action="/upload">
    <input id="file" type="file" name="image">
  </form>
    
  <div class="w-full min-h-screen bg-gradient-to-r from-purple-400 to-purple-800  rounded-lg text-white py-5 text-center ">
      <div class="flex justify-between items-center px-4">
        <!-- <a class="text-sm text-blue-500" href="/profile"><i class="ri-arrow-left-s-line"></i> profile</a> -->
        <h2 class="leading-none text-xl font-semibold  lg:ml-[45vw]">Edit Profile</h2>
        <!-- <a class="text-sm" href="/feed"><i class="ri-home-line"></i> home</a> -->
      </div>
      <div class="flex flex-col items-center gap-2 mt-10">
        <div class="image w-20 h-20 bg-sky-100 rounded-full overflow-hidden">
          <img class="w-full h-full object-cover" src="/images/uploads/<%= user.profileImage %>" alt="">
        </div>
        <button id="editbtn" class="text-blue-800 capitalize">edit picture</button>
      </div>
      <div class="gap-3 px-4 mt-3 flex flex-col justify-center items-center">
        <h3 class="text-lg leading-none ">Edit Account Details</h3>
        <!-- <hr class="opacity-30 my-3"> -->
        <form class=" inline" action="/update" method="post">
          <input class="px-3 mt-2 py-2 border-2 border-zinc-300 rounded-md block w-72 bg-gradient-to-r from-violet-300 to-violet-500" type="text" placeholder="username" name="username" value="<%= user.username %>">

          <input class="px-3 mt-2 py-2 border-2 border-zinc-300 rounded-md block w-72 bg-gradient-to-r from-violet-300 to-violet-500" type="text" placeholder="name" name="name" value="<%= user.name %>">

          <textarea class="px-3 mt-2 py-2 border-2 border-zinc-300 rounded-md block w-72 bg-gradient-to-r from-violet-300 to-violet-500 resize-none" placeholder="Bio" name="bio"><%= user.bio %></textarea>

          <input class="w-72  px-3 py-3 rounded-md mt-2 bg-gradient-to-r from-violet-400 to-purple-900 hover:bg-gradient-to-l shadow-md shadow-indigo-500 text-white rounded-full" type="submit" value="Update Details">
        </form>
      </div>
    </div>
  
    <script>
      document.querySelector("#editbtn").addEventListener("click", function(){
        document.querySelector("#file").click();
      })
  
      document.querySelector("#file")
      .addEventListener("change", function(){
        document.querySelector("#fileform").submit();
      });
    </script>

<% include ./partials/footer.ejs %>